branches:
  only:
  - master
sudo: required
os: linux
dist: bionic
language: generic
services:
- docker
python:
- 3.7
before_install:
- chmod +x ./deployment/build_scripts/install-dependencies.sh
- chmod +x ./deployment/build_scripts/inject-secrets.sh
- chmod +x ./deployment/build_scripts/build-docker.sh
- chmod +x ./deployment/build_scripts/deploy-k8s.sh
install:
- "./deployment/build_scripts/install-dependencies.sh"
- "./deployment/build_scripts/inject-secrets.sh"
script:
- "./deployment/build_scripts/build-docker.sh"
- "./deployment/build_scripts/deploy-k8s.sh"
env:
  global:
  - secure: pkJ3zi85iPswKooRbkUBJewm4h3GO6zzbF/zd1bDzgVZ3XsCjW4hyr8vNWpnp7WgUqd2LoggCY940awzaJiwJUSRLJuokEQdsZIDhhWH5ntUqeO16qIu96vAyDmF82S7vcSt858YZf80Zx185JBa8mXCMPFabP9FKRdyygOxe1QZomoj2bRT2mXao7vYfRTnGXzumaNnaqd0ZStrf9J2paAfm7yE7ipr3yL3+if+5SKb9cqQbk030iLqiBPkEBEiDcaZDHVqNS+oz/dFdDF5eIf+/WuxQihU77hs9rnz/gTS9c1lCT0Fr5G1b5DsyFtvTkwBvoY9HNVQBhrVAN4Wtlehj6PWftReohdiIrJyDo3bmJWVMOf6omxh8YiRca3idmzkZQlsVFoTocBGW5cyyAXm7BpsPmnGt+AbcLS6FfUJF9nW8A+00Xvd6zy3VsfLpCgfar408Msb4SgEWywqHi2JPkBjdA+XDFIUqGjUNIhasVOc0rz2nPfzZrE6nilpE5YIKCDWXtFLj0rjlJyaapzYpKgCMvHNWtVwGhpMkVcAZuoFQSCVRzNfMRrDjEiRusGjj/T38RBZs1wnR8013FYE7S4+YsBg2MrcQtfd+dR0Zqs+et14kufcMUSK9eLcr3R0uB6PDld9M5Nvsxd/FkL71CqS3gTwCID6biRb1Y8=
  - secure: OhypePetsvhN/pnVKNs7TlliAv9QjJY+64zRDy3M8oLvkCM78DiilTwI6q4HTh63EK9p9nL62aGXwc7y3vtRjfGfJm58iYYSuPUf0yWlc7HFXiW12asbl4tQKdmkXO3UtYaxyI3cHrlc4CUMJ0amNiyLYBmAW452wmgdwDB2iLig2YH0WdIWGX30Wc+ehLl9XsUtbKmN/JCX7O3U75dF9I1paxOOI6T7MJKfhWWLr14/wCzgkO7sKDeS594u2dU5vUQc/BU7Ok4pRlQEH6Ut5veSKRjvsD375fU8niS1ecXMvofH/jrgJTBgYBz45u4byJwSEe5vQs4TrVQVv+BGRPuCznoDD8Ebw9T5NkZzcWqhYhy3tKk4GRmnv+Eb0U9F1Q5RTZKr4+xR09o3GjNx6LFTlcxT8kyxcBUi1bK66iQrLItAQ5F2WnI+pjSabqfwy9/Mmer+97iRFH2Wi3XzrtsoiY+GEu5kCrIakckRFrfWt7nEG8XKTpjizfh57S+dHlyYUF+AM2WVMQ3Rtn7CRmA8EsxM886tlhJOeMqFJAA2uuc/2KViqTtcY5LYz4gOCKfLpvETOKsc/zcXRaVbrFsoKO4w8gN93RK9EOSIfo/sQr6S8WpP9L1JRhDayt4Ruj+fDWCE7PkLCxPMfZDAi84kFxmD9zQfDBQvWkLZygQ=
  - secure: qsC/o5W2scSodPxTt4Yjd2me44tFTwBg4FBRBZ22iwkJQ8MyIUbK/6hin3/elMt6eUaM6PhAWeW6EOgH9CgZXsN2m4OfDDklGi8M4k8wmtgzmbwO7XuA0lYaaBbZfy86dAB9mih4ZoPCwgwZhs9hNBC4WNpjiJZ9JexeBoyakpzePDOi/KOT8/UDXuBkOXgVWTUaWa+UFksb34qJoN8736rCw8LlUMYPF06+upi3xUzLWuhMmrNtSaLFK9LMDQp9Ry6arqWIi9KbI4OwcCkWZ9XLICBn5/zyuWhTpetZU98FDuPqP83unW9x4UC/UlCeVcnkDMBQTnsMJX6DAl73E3his5LbvwjJbvAFfuSPdEYjBvs/IlQiBZQUYealxlUTc6mkx/o7O4VsX5WCb/0L/iIUH/1u0adii40T5062zlCpnxA5Ekh3aJeR/iB4+Mu+RUgIDqnRwmrJty7UBVITfraMDiVdGkQq+04QdJAwUqXBb1k9mebeKF44PW0x8Va02R3A9nGYuiHS5vCE73haIPr+B8T11sGonr/L1PL3LKCPoyIMoAizdg4BE9VPuAtFuNfrULL1UbRm2cukjLlTqxu0PcQVLV1/a25hpGUvh+oh5uh4xeXmjHoA+cHiRUqKxNivMhNn4xKbeAYm0Mb27MqfPLB9bmXqHwTKlsJyrqI=
  - secure: Y5mwO06nRn+cjoC0iek/v4vd4NxqfHw/j+00bR9LjjjJdKqtfar9zEHg6JSFLzkq57oC+EnGAh7spWiGseWWKLc3qze1TLlru0q/B+X836quXWfeGpZVFw/8c96EbK8fYBhQbkbTiLfNU35y2cfj6vMwU7VAMIuDF3Sq1Xl6Eu6lVUgUGieWz4+ie3M4wQqQOUM2dJwNNPoeR+r1fXaHf8D9WaXYJqaKhxyAnKR60NhC0q/Uo9jbqwprO4sk3xuo8aYit/9eEk88UhCO8ufB1X5Vc/BJ3+KMTVpsvOJpRYxTs3D2SE7UpGkCLThWKiAOEFH9znvIqqEC0m5DLbqkqNGRiWZo5niFbq9svbmMM863vx9lwo0i+b4zfj3VNyLRVg9wxt6AsCQP/5XKaDI+3pD49hx284TWGrRoLZrBmeoQiffiObUPB1LjOCV+mfkm5H05Av+7cEXNCKc7jvqn4I9EXkQ5aLaTwI+FyEIF1GeQNqeQZcUsCLQjpLM114FSoFgM6nY8swV0ScSrvSFUflkdYeqFNCTh588zDhBZ2JBFfa8o1mwd+WtKkaSNmNnjx8CwiyBvgDkEW/3go12LCaJN1pcXSPDPOmnZfxvxkOV8SYeql4pWanvYtCyDkkMWmc8zE7h3sa87EtrAUrN11+Waf8xQUguxfVcnWVEQZlA=
  - secure: AXaRhjMcmtLM5c5A9xcfkehv5eLc30A/I42lr20oxyZ558ol78oyp064L2AvJanyU6MywvsvV/FDA6D88As3wiGTB3tuPC6eUA8N5TR/ht63m4SHTOE2h39hXNp0qZMxbizk+dJZYZlmmUsByrXxNeQsf2hcAUfmTmez4Xybr3VcypxBp1v6WChYqmE94q8TMZuhmwoCDLjrsUbGBwXPmy+d042p2XXRU5/wZM8b0F9kl3EZS9X8e7g8g08HpXJWv6oTe9FOEz447gdHRPfsGbtPq5+L4nRbhlzfcGPB7BSoVbJYPQOgmQW2w4Ux1rIi7XAcLDPGy814whYu8wqR41RSC5Y1dCBawzMlFq7u/tZFMyC0HEFmsl/GJaT9HQqQS+GXAA1RqYOsXcpIXDvwhzlI7JCXcNr5hoyZhv9E5vltAlVNNLalX4xTLcAEVXSYA1q2RMDaT0+WIp5HIEyUso/QwlaamiG0jXlaANWMnFl2LaMl7Qypb0Nh+MbGsKZsLgT0PM5IdM4cxq0JmbRaHFE288sBsf61dLP8lC8VESiSjNqytfj9+jrGcGb21FV1U6yUWmESAlxA3nQbNoQMInty8E07WNGu6I2pLQEnHMubhtlP0ccv7qbb4iUOdW5hVDpR20VkHvYVbhFEf29AxBPHxFlKVI6mGFeFzFiBsPM=
