branches:
  only:
  - master
sudo: required
os: linux
dist: bionic
language: generic
services:
- docker
python:
- 3.7
before_install:
- chmod +x ./deployment/build_scripts/install-dependencies.sh
- chmod +x ./deployment/build_scripts/inject-secrets.sh
- chmod +x ./deployment/build_scripts/build-docker.sh
- chmod +x ./deployment/build_scripts/deploy-k8s.sh
install:
- "./deployment/build_scripts/install-dependencies.sh"
- "./deployment/build_scripts/inject-secrets.sh"
script:
- "./deployment/build_scripts/build-docker.sh"
- "./deployment/build_scripts/deploy-k8s.sh"
env:
  global:
  - secure: oumRGfq5x60QHUklN/BtJnC6bFGBJDQDCw+3YKyvwRitN0Rm9tSYMO9SHwRHFxBMjwJA5eZH+2/jQ0ts63WdmSgVFhCXAEYMcJsaFxFUUIy6ZG1qhGjyV8/nzfW4pGjKOQtY2AmfT9u2N1WeKbzOwmWO8NEgcFFv+x+R+C8e9WJXExXu5Zr0VzRMF/wiXyBJkKP14PEZTy1E4Q+r1cXADJx5FsP1j7ij3oFhEWl7iwhx6p2BtRkFiMFZ9Gvv2V+BG5b0X6Ap7pRs1YVe8DrXHN9SxPMYAztPjW29/h7M1CfjHr0QvLPHsxlCPYTy0IMiDY6qL4XccmA30vsLkhDNE3vcIXKX9Bpsc9Ctx281KoThJnvA0RmQrw02p4SRSPCMElz4WYQmK7o+IeAHcILFe1AwfHhKnJvV8HgUgrHDS5zNTdFUUuA5Sa2CO6VaftgG0W9WMMXpfJh/2MjxEFFaDGaQAZlejNrNYR8AUcNl9aJmWz/eVt60KpFkQcT3106CI9RGUfynkr0VTw3XWXjoCqwyjH76YWHjn0m8nge+5bXesuNbmj33V2QhIOwjO+kjrCbtvHtIf8gPpWQGO93tzatRbBU/4v3c34P55XgfVIbyzvft5a8IB7Hs4VFdETaWUjYApuLZsb6IvSi+nSBmZJdrOMJWGlWaPLdSkM6dmdY=
  - secure: MDaVJr3EfmvmPcOgE1v1t6H2afh5rSwq3HcugM++Q6RKIgWKa0qk5c8cdY10iTgKcL6E/0Tj/6ZYMICreBpk4dZn5l6GvwHhrfWZHb+PdgxMQd7P5ujcVJ0micPZP4CwYBnkN/pEtit1Jvra+iwxhRK+SgYwv8I1c+UQN5gUp852Ke584E3UE0cW0MgWPLTDkMCCbpW4oxnQnU/WW+1tXDzoh9UV6hlMRYf81Sm3/NaPzqvVR/kfMxZOu9UYDTYfwjxb0AfHaPBUokb3Lakbi09zJK0D13c6B2fexgAu74DB2Crl1zDa98SNdsmxPRmWAaZSFjOW8zycGEnfOQ1qNER09TGsCYYJI2pu45jQL5/VbxuFDUgmluZKabryTKAw27/1I8jJJj5ZBx35CkajJMAv6v/W3A28thgXv62Mte+/OQy5e28F+NK8NSsQvUK+dovN4Fsz+VGcQrh20M9N+njzYrX4v/liaZ3lTaWrF2mJoeJd5mekaEuIG1/l7L156RrkPNxJjrhFBHlBRKD0T8KpP0s5hPPCsCLPdgLfFSGO82g/nGQ7FNFHMAasua5WRKH8uVzbDisvyTIzcXUEbYHagDxnk2pzNuKXJo9Ge5pPIPpcMe7UXIthHATVvAzciFLb+6/o21HrYmJzrsCEdEHEAPChlWxIrQIiIL/tc8o=
  - secure: WAeKTZQK25YwUEC8L5sWhrI8Mo1e65sOQ4c6UMszbYq8N9ZwL8bRLxliTenEDDoLxo3jRAfauajFYx+lQoR7aD36PNvnLJiX7L4xIKiUQxcoKpPyxTNE/Jh0TewB4dfc6U4ulEw9+Dw8UZTLofHJXWo9DEWuad7ijYQUShVUhww5enNGJo1j+c6BtxsJ3NgoaFaUNGHFpJEMWY+AVk3EgwCDWRzSCLLXI8tbo5BIha0NIrr9OWn4QyhFHQrav2SGfGv0/hT3f3u1Oyt244hpg6r10CVJFL6x3EpuZtWN/MpM9doajYBK5LMVybt7Pyv96heFZU4TXyg4K6E4zUrZ3DEGd7vdebgOxnxCCYvSNem3Mxw0o/kb9ZCC+ziGrYnBbnwIQsaS8+jgQwaVvvP61KlseXHD/ZvDBF691cZSrx77zQ1rJdQ8miOXQPaOYmNq1TClYfwe66BD3pSbTXQI+k3hmnp5iwQnjJeVaHiwQFassg0MNlbwlEZQhhi/LaQja4lbQwCCcuqNPnoqkLS7pM4OD1EaFJ20mucqdic95TJGZjRtnmkMA6UTVmJIUdoeJlhzwh7MWt4sOEMR9MLcfVHUVLf5PkUnWDPW8BfWtF6yC9n+ODW/Br7v58VzQB42AoJ6WXdXFNvgLCGfnEzwOqV9hpshLMK0aNlJQQFrQWk=
  - secure: P2H5alPduJEWMjaRWfr4qs/8yv1OOF//Y+0GuhXlqWCAG98qUs6oDkbB1EF5Arl4gYhuA21ZYKw0tr1cFvDUU4tIKm9OU4y8/Ui0uelw9nUjD2KC71CP18jlyP62LLTxQD6CzcIk5Xa9ZyCzTQfMlXkqN7Hs8S8sJl5lTK9Ikvc7figeMpyXmxI+kpUznFsD88G6u3mrP7klkLWrhmFV/I1E6cWPiLecfPlqz3Zr/569rYRI8Ya0+cPkggpBlJFCskkLTxNQSwGp+xgpktn7QhMkj//DOqDnUJ2/hxl00YZrnrDOrC1+hl56CZGNW6jHf0/OjtcTaJpxqNnO69lE4tznBDMMBE3fQtOPl+cvpAsX0U6/m4ov7KR9RyxVxKVIXC+LZECGEkDsLPFBSIii7v+Olj3DTen9pCluVBTCAYY5kupa0N39vt9Hg+Un65CTmRM2yhF48cS0Y6/J3uIv5vYIy1s/mNzPKsD2XlpSE+dZKSv/XEXXpzTbaucOSQYV52x0kvO4s6mUos4Tc8hM3Onla0eeAiHdrJi2aIwplvWeLzx8ElEOuuviAev5t/qpR2LxClT1Gm4hx4a38d6irxJ864dX0knBLP73SF2jXwSlSwkjswrPstmdSk1dipIO0+zxS04uQFb2rftf5YFg+KfXvKwVTee0aZGJ8j/sMYE=
  - secure: mAwFEvKApER22mTL46RbCkUEC0j5bEl8KAfhxtPAanNyIhi6DJ2QxfHgN8CGmexmOxczZC9Q7t+cfBzWFc7AcCExLgZsCSK7FNxIQsA2SXG6BIeguCKSgodzCoH7KL7HiSTbRJJN2L1SwOOf0bflbz9ijKJpl7T2L+XKAzF/cjhXdHvgA0cXqtQJTMbK7RMfsBMl9PR9D4ydE/oBJLvwRBf7aAUc0mudRnXQymkUsNSAFosetf24YDVX47ziYPcJmztx+nr2wIzORj5esJwC0vHQ9cDlLPvG/Qau5SybZvpvF3mEaRyH+toTlgmAKarhXN7w3L7mzahtTmjzgmlSyuXupOBiANsQywOkxieu/wuF9QGD4G/20YMm/LPKrClV6moXA+v0b4K2eLI+dYVu74pnnIQ/4630cDMSQN54WijJdEXo5gQbvnc9TjH/RjHuoc3DV8gsYCA1Kew/Gag1z7gyIlhY9KT6T5v1ayPaMhUz/XaKMWxRjImTjiwjjQcpjaFNw58YEzvPMHS/dFFzC1Xu3unH58jhFDoiliM+S0TdHUeNqeoUK2nQ6+qzkNnoMdruYHWq8W+BhZ3MoeRh7s3RRHcdYKzuy7WuqTp4fdkrOuf+BUOAB3LT+JgJ92NkDPV4D68CVF17sJAtmT6N5igxP7Oa8JJ/BeJ5N5q5e1c=
