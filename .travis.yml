branches:
  only:
  - master
sudo: required
os: linux
dist: bionic
language: generic
services:
- docker
python:
- 3.7
before_install:
- chmod +x ./deployment/build_scripts/install-dependencies.sh
- chmod +x ./deployment/build_scripts/inject-secrets.sh
- chmod +x ./deployment/build_scripts/build-docker.sh
- chmod +x ./deployment/build_scripts/deploy-k8s.sh
install:
- "./deployment/build_scripts/install-dependencies.sh"
- "./deployment/build_scripts/inject-secrets.sh"
script:
- "./deployment/build_scripts/build-docker.sh"
- "./deployment/build_scripts/deploy-k8s.sh"
env:
  global:
  - secure: SwD5oYLye1QNXeSR2hpWGc/ZF0NQbFOXatBWK7tDtS00ltaY8LvIQztkYauA4iTsA3CsG4g3t4vCAKQnaMYdQhdK47ngwNbmbqD2+cQhL/fmYDp3NYc65dC6Es4dSN5jfdf8obubq/UzEn8SmiXOTXjrmI/yD987nFBxOdQ81FQbqnvzccJ8iiqgzc4Et/QnSLgV+dPO2cfDWNJ5x7t4RpE96oIC4Ut1bZlfEyyNTcOnB2lmZhjbR5PeWnwPRejATxmeIvcCeEGEXwO8Ory/EEaIsfl5vyY8C/yewgekqHFZRiqslqHCEVCEVBogjDm6FOrWUGx4dPZvajP8hBAf3YZ4KG6Sfe53lnxmO9Y0VG9tim9JtXpNG4uPsj6RBVOAKC8hZLTRt8C/Q/X9ZNyYEVQeGSHewmtUFYklv4Y8qxSGHIAbPwp43GiZ6mHy6m5tofapXEnqriCmxjWuWKZMP9bEUQ1Xzq0ars9+DBy7zULeCha8OxFmdnJ6M9PcWBBqiQwNp/S7Iz/DhDNx/GB4XM3hyokYejdJlRAsr489RSTyJK1XJTKIkCoV1nXfelWYZe6tSY5tKXltxpRF93zpM9vjlQs4x5ZclNCspvIL1AYUXCJBdxRSJILkLPuM1GOG/kLYyMN7wGscuEkCkmjvp1n1yX2H/gSwBIcbDXagyS0=
  - secure: gMKmAisybTLTQ8euEhAQ0n7TUS1kLjFWqSDtTumBZJ/tX84LAJEVKEvl8qjDg9ix6l2f0LLenOC+9l6Yn9idjmqtzSf8s4+1EDEvyTEFbWMSY7lTgHHz7Hrc7c3RWLlXmc7jm1fkVSBW5nELXHSUuyukwdmjmVQUakaTDX0kn38aoMdNPJrRI83Z5saI0rTxXY+niAfyilU7/NU1s6bZ9kAwHbfKu4ydJcXFD4Fbk6WkxHyjamjbblPX2XoVdgoesxYx30fe9jGTrd9ObM1iyMs2NlcFT8xxvIK271OcjwbTs8ZLkfRvCpq6I2NTcG0Ly9Z0YSjVt9I1rRzgdCC0noieQbAcKJF+sTVuu7dsl7wktXgAmlLL02QIoSkYpG9VeCyzGOi6syRvB71m16yfkdandFrlSDs/OXqLYFfq+jUalN4MtQcjpCSajR/76aaDRWhnSIONmLcIDVumc9hU2uVScKLraHUICNlOfYQKo6kuUc0iYvK8Jsh427vYAPzAF5XZJtvQg/El812GqiViKXSCD6CdRxWXfJBaaahNV50Q23NVEPAzwiYXQEyMiLAZFUVsmq9S8vRZctI2GeuTzLukFZMQ4VkqGerDd8KUaRMdUakWBYqO+sYdtHGZsTaZoMEEzeUOENpaIu2bg3aO/OJDC0jimvcLWOXcJP0oDE8=
  - secure: eIqNUTN6pjKhTMvv3UpMjfFxAkU0YxHotudA6fni7NXza/g1XgnmxKOnGlu30Y9K115vipLr8Bgqm/6uNMZ+nfTKnNhmeBAQL7A18x2/CBHwC4Ywc0Y60xTw2fLCt1fCft7oAiY9ejyzUDgk7H2pjustZttzRGXszEkG5bLca24uZXazKRG2YeolibSEp8NhXHQpgg7nd+1Qx3Ihj0OMzqIXr1YPgCondhX9ocmcHr5ahpoC1glAiGtj7dYpAxOcDMPenGhEhrXW0bI/yBGztlAse0UQdC6+GQ0tIwIIFYZUPiwRomqm3qUSqYMnSaDAzETijR76NUKZJAwvX8MUw3OW10hLYRDzrXLbM1Wq38vf16nC/B7la7c1ru5VcP2THxNaxF2mfzOh/dI4E+UjicX36+zDF01M02IXjj+ThtOYHP6xWOGTdVU8ZEXmUKfmErkKv5S8/Bqh/ueQZLif6F/eG6kPM1lbaleCM+UgSkAMRGHM0ILUrx+4Kh24LDjcpThzSHXHFWc5iW2T0/RdoRr0ouGoX0CzGbV5fln4jRnDiJr4t7dlnd2jnajCrmWLKcauYod2814CBYj2WpEQlHFU0HuzvBM4GrFiP8seb7Ddw/0MdN0V6jEuhd3Wj646RwUxPuecAa7VtCoJNvZzgigKRYrEIOjTOjoKHR5Nrww=
  - secure: YBVP4pOF0Qy9V5a3/i1mZ2bYp9LLkIS7XvR5sr7fEccvZnKO+JC12l6EDaQMtrnJZ/eZACvOaQW1JHxpJ9Ho4HRGojfkA7VVjYsNV5S2tJVrEbouXWPMVa5hpm5/DIv5Sfn0Odf85cIA0Nmi7BUF27ARqR3tMNw9HZEDksm8Mt5FEmijAKCuZWqM0ySKboiTsulNYCT4bl8gHWL09D1A1UKhpDfqxvukLOk4nb8Ug5k9Uy1aPxY1KIiMe9Q2bRn6nZytnJ+N1GV3qBGcyjtzHAs+XcLtF9IncX+XMexD1mO8LGus5p32OsewPqylfSNu1QHyZV2OBFJoaJmhuj7Ge/i01B/jVuJgJleGf0TEOF4oTf/QVpeJB+aJ13JOIXOuKt6ZSMHW0ckFM+r44N3dt7r68JoNswxx4X5uS9naM8yTMv3qgUWq3AZzs4+1zEK6jbpT+Ml1dYBZDAs1/QfIU7Pdhdm44EArXHRjNo13u2u9YOSs/xxBLUgxtnBkaNLy3JLfSd0HctaNWbVt5ykpQr3d2d7ePdbyExQ5cgqt/GtiV3enWw5CVZOuBQlBSW2+/vQ/zhuGLu1ACJqNdRmJxB0pLbaXKMIUFdD4JgI9kRqeCiSXlXCSbGOh2fkI0aVWeO34jBSSD/UG696ijcwAJWFPtaZCTCAfuXq0gsTI6z0=
  - secure: nJHV/Glno4nVYNFylCjOkdCrWH+e3A2ZikCVEBCh6XWNiuS9FRBetZzvqA4YNA9df8kYkDX0ne5A8ITaA/os0co3qS1dOA9KRVBuj+7Nw4PaM0AVFV7QeQ4RPxga4SYU3AfPwxn42FCSIhpddyMFCLvuVzRUXugRQwdQyDgskdvbPmPQ+hEAhg9RZaGYAh2HhslP7fcbtEu5yBXeG2X5t5BsTOQjc2C8cjbr4vuh01+bnS4hKEDbZa2VrBDkNJ6c1kFpz0VyQvSpauZyIx8cFNQGHF5xBOjgWGk2MRre4ZxtFHJu3irJWsiK8CMYkWNnErbU4Cq78aAN7NxXbdL3yz6kLDgvxRA2Fe6UILrRiHQ52e+BDOd52wOb6MCwcFFPUo5hE1a9V3xEOcifjm/duJm+2a6nkFMJs8Leph8o3ynE2+mLhTcM4CrovJ5P64r6/bLegN9Qyh0h5AvIVofDALE36YQgw3o4UqqAGaU7WKJdphMF5Jio0DKllSnC2MziwS0/dNbBTYTzMUyueexi2NYVxBZKzKMKrS0B0Z7z4pULk2a3+ec8dn7vohuPgmlX05ZteMxkpCLvZREEUrYnEbOWIxWwWyCCi2LRVfsteipXH12LGiHPLeRYNs/R2auVcWZ5eN+WECnnLjR0PT0UnP/j+Xm2EBb1WyCxECw/4b0=
